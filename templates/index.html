{% extends "base.html" %}

{% block content %}
<main>
    <div class="flex min-h-screen flex-col items-center justify-between">
        <div class="z- items-center justify-between font-mono text-sm flex">
            <div class="flex min-h-screen flex-col p-8 md:items-center md:p-24">
                <div class="md:flex md:min-h-screen md:flex-col">
                    <div class="mt-4 md:mt-10">
                        <h1 id="cat-fact" class="mb-4 text-2xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white">
                            Laster katte fakta...
                        </h1>
        
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@iarna/toml@2.3.3/dist/toml.min.js"></script>
<script>
let catFacts = [];

// Load cat facts from TOML file
fetch('/cat-facts.toml')
    .then(response => response.text())
    .then(tomlText => {
        // Parse TOML using the TOML library
        const tomlData = TOML.parse(tomlText);
        // Extract facts from the parsed data
        catFacts = tomlData.facts || [];
        showRandomFact();
    })
    .catch(error => {
        console.error('Error loading cat facts:', error);
        document.getElementById('cat-fact').textContent = 'Kunne ikke laste katte fakta';
    });

function showRandomFact() {
    if (catFacts.length > 0) {
        const randomFact = catFacts[Math.floor(Math.random() * catFacts.length)];
        document.getElementById('cat-fact').textContent = randomFact.fact;
    }
}

</script>
{% endblock content %}
